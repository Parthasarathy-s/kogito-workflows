# H2 Database Configuration
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:kogito;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS KOGITO
quarkus.datasource.jdbc.min-size=5
quarkus.datasource.jdbc.max-size=20

# Enable H2 Console for debugging (optional)
quarkus.datasource.h2.console.enabled=true
quarkus.datasource.h2.console.path=/h2-console

# Flyway configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true

# Kogito persistence configuration
kogito.persistence.type=jdbc
kogito.persistence.auto.ddl=true

# HTTP Configuration
quarkus.http.port=8080
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with

# Logging
quarkus.log.console.level=INFO
quarkus.log.category."org.kie".level=INFO
quarkus.log.category."org.jbpm".level=INFO

# Swagger UI
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
%dev.quarkus.datasource.dev-ui.allow-sql=true

# Debug configuration (change port if 5005 is in use)
debug.address=5006


# Hibernate configuration for audit table
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# Keep completed process instances
kogito.persistence.delete-process-instance-on-completion=false

# Database Persistence for process state (Runtime)